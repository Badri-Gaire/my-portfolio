---
import { Image } from "astro:assets";
import SectionWrapper from "../../ui/section/SectionWrapper.astro";
import JellyButton from "../../ui/buttons/JellyButton";
import SocialLinks from "../../shared/SocialLinks.astro";
import userData from "../../../data/user.json";
import heroImage from "../../../assets/images/badri-arthero.webp";

const { summary } = userData;

interface Props {
  placeholder?: string;
}

const { placeholder } = Astro.props;
---

<SectionWrapper
  className="relative flex flex-col items-center justify-center min-h-[calc(100vh-80px)] overflow-hidden"
  id="home"
  tagName="div"
>
  {/* Large Background Text */}
  <div
    class="hero-bg-text absolute inset-0 flex items-center justify-center pointer-events-none select-none opacity-[0.03] dark:opacity-[0.05]"
  >
    <div
      class="text-[8vw] text-black/5 dark:text-white font-black uppercase tracking-tighter whitespace-nowrap"
    >
      Frontend Developer
    </div>
  </div>

  <div class="container mx-auto px-4 z-10">
    <div class="flex flex-col lg:flex-row items-center gap-12 lg:gap-20">
      {/* Text Content */}
      <div class="flex-1 space-y-8 order-2 lg:order-1 text-center lg:text-left">
        <h1 class="sr-only">
          Frontend Developer & Website Developer in Bhairahawa, Butwal, Nepal -
          Badri Gaire
        </h1>
        <div class="space-y-4">
          <div
            class="hero-title text-4xl md:text-6xl xl:text-7xl font-bold leading-tight tracking-tight text-foreground"
          >
            Building digital <br />
            <span class="text-primary italic">experiences</span> that <br />
            inspire & convert.
          </div>
        </div>

        <p
          class="hero-description text-xl text-muted-foreground leading-relaxed max-w-2xl mx-auto lg:mx-0"
        >
          {summary}
        </p>

        <div
          class="hero-cta flex flex-wrap justify-center lg:justify-start items-center gap-6 pt-4"
        >
          <JellyButton client:idle href="#projects"> See my works </JellyButton>
          <div class="social-hero">
            <SocialLinks />
          </div>
        </div>
      </div>

      {/* Hero Image */}
      <div class="flex-1 order-1 lg:order-2 hero-image-container relative">
        <div
          class="relative w-full max-w-md mx-auto aspect-4/5 rounded-2xl overflow-hidden shadow-2xl border-4 border-white/10 bg-cover bg-center bg-no-repeat"
          style={placeholder ? `background-image: url(${placeholder});` : ""}
        >
          <Image
            src={heroImage}
            alt="Badri Gaire"
            width={600}
            height={750}
            format="webp"
            quality={90}
            loading="eager"
            fetchpriority="high"
            class="w-full h-full object-cover grayscale-20 hover:grayscale-0 transition-all duration-700 scale-105"
          />
          <div
            class="absolute inset-0 bg-linear-to-t from-background/40 to-transparent"
          >
          </div>
        </div>

        {/* Decorative elements */}
        <div
          class="absolute -bottom-6 -right-6 w-32 h-32 bg-primary/20 blur-3xl rounded-full -z-10 animate-pulse"
        >
        </div>
        <div
          class="absolute -top-6 -left-6 w-32 h-32 bg-blue-500/10 blur-3xl rounded-full -z-10 animate-pulse"
          style="animation-delay: 2s;"
        >
        </div>
      </div>
    </div>
  </div>
</SectionWrapper>

<style>
  .italic {
    font-style: italic;
  }

  /* Reveal Animations */
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes scaleIn {
    from {
      opacity: 0;
      transform: scale(0.95);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  .hero-title,
  .hero-description,
  .hero-cta,
  .hero-image-container {
    animation: fadeInUp 0.8s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
  }

  .hero-title {
    animation-delay: 0.1s;
    opacity: 0;
  }
  .hero-description {
    animation-delay: 0.2s;
    opacity: 0;
  }
  .hero-cta {
    animation-delay: 0.3s;
    opacity: 0;
  }
  .hero-image-container {
    animation: scaleIn 1s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
    animation-delay: 0.4s;
    opacity: 0;
  }

  .hero-bg-text {
    animation: fadeIn 1.2s ease-out forwards;
  }
  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 0.05;
    }
  }
</style>
