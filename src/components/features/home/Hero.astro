---
import { Image } from "astro:assets";
import SectionWrapper from "../../ui/section/SectionWrapper.astro";
import JellyButton from "../../ui/buttons/JellyButton";
import SocialLinks from "../../shared/SocialLinks.astro";
import userData from "../../../data/user.json";
import heroImage from "../../../assets/images/badri-arthero.webp";

const { summary } = userData;
---

<SectionWrapper
  className="relative flex flex-col items-center justify-center min-h-[calc(100vh-80px)] overflow-visible py-20"
  id="home"
  tagName="div"
>
  {/* The Prism Background System */}
  <div
    class="absolute inset-0 pointer-events-none select-none overflow-hidden"
    aria-hidden="true"
  >
    {/* Subtle Grid Pattern Overlay */}
    <div
      class="absolute inset-0 bg-[radial-gradient(#80808015_5px,transparent_1px)] bg-size-[32px_32px] mask-[radial-gradient(ellipse_50%_50%_at_50%_50%,#000_70%,transparent_100%)]"
    >
    </div>
  </div>

  <div class="container mx-auto px-4 z-10 flex flex-col items-center">
    <div
      class="flex flex-col lg:flex-row items-center justify-center gap-16 xl:gap-24 w-full max-w-7xl"
    >
      {/* Visual Component: The Tilted Glass Prism */}
      <div class="relative group order-1 lg:order-1 flex-1 max-w-md">
        {/* Outer Glow */}
        <div
          class="absolute -inset-8 bg-primary/20 blur-[60px] opacity-0 group-hover:opacity-100 transition-opacity duration-1000"
        >
        </div>

        {/* The Card */}
        <div
          class="relative transform transition-all duration-700 hover:scale-[1.02] hover:-rotate-1 group"
        >
          <div
            class="glass-card relative aspect-4/5 rounded-[2.5rem] overflow-hidden border border-white/20 bg-neutral-900/40 backdrop-blur-2xl shadow-2xl p-3"
          >
            {/* The "Black Trim" Frame */}
            <div
              class="relative w-full h-full rounded-[1.8rem] overflow-hidden glass-inset"
            >
              <Image
                src={heroImage}
                alt="Badri Gaire"
                width={800}
                height={1000}
                format="webp"
                quality={100}
                loading="eager"
                fetchpriority="high"
                class="w-full h-full object-cover grayscale-[0.2] contrast-125 group-hover:grayscale-0 transition-all duration-1000"
              />

              {/* Dynamic Lighting Overlays */}
              <div
                class="absolute inset-0 bg-linear-to-tr from-primary/10 via-transparent to-white/5 opacity-50"
              >
              </div>
              <div
                class="absolute inset-0 bg-linear-to-b from-transparent via-transparent to-black/80"
              >
              </div>
            </div>
          </div>

          {/* Floating Architectural Badge */}
          <div
            class="absolute -bottom-6 -right-6 px-6 py-4 rounded-2xl bg-black/60 backdrop-blur-xl border border-white/10 shadow-2xl transform translate-y-4 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-500 delay-100"
          >
            <div
              class="text-[10px] uppercase tracking-widest text-primary font-black mb-1"
            >
              Architecture
            </div>
            <div class="text-xs text-white/90 font-medium">
              Clean Code & <br />SEO First Design
            </div>
          </div>
        </div>
      </div>

      {/* Content Component */}
      <div
        class="flex-1 text-center lg:text-left order-2 lg:order-2 space-y-10"
      >
        <h1 class="sr-only">
          Frontend Developer & Website Developer in Bhairahawa, Butwal, Nepal -
          Badri Gaire
        </h1>

        <div class="space-y-6">
          <div
            class="hero-title text-5xl md:text-7xl xl:text-8xl font-black leading-[0.85] tracking-tighter text-foreground selection:bg-primary selection:text-white"
          >
            Building digital <br />
            <span class="text-primary italic-serif">experiences</span> that <br
            />
            inspire & convert.
          </div>
        </div>

        <p
          class="hero-description text-lg md:text-xl text-muted-foreground leading-relaxed max-w-xl mx-auto lg:mx-0 animate-slide-up"
          style="animation-delay: 0.2s;"
        >
          {summary}
        </p>

        <div
          class="hero-cta flex flex-wrap justify-center lg:justify-start items-center gap-10 pt-4 animate-slide-up"
          style="animation-delay: 0.4s;"
        >
          <JellyButton client:idle href="#projects"> See my works </JellyButton>

          <div class="social-hero border-l border-white/10 pl-10 flex gap-6">
            <SocialLinks />
          </div>
        </div>
      </div>
    </div>
  </div>
</SectionWrapper>

<style>
  .glass-card {
    box-shadow:
      0 0 0 1px rgba(255, 255, 255, 0.1),
      0 30px 60px -12px rgba(0, 0, 0, 0.5),
      0 18px 36px -18px rgba(0, 0, 0, 0.6);
  }

  .glass-inset {
    box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.5);
  }

  @keyframes pulse-slow {
    0%,
    100% {
      opacity: 0.15;
      transform: scale(1) translate(-50%, -50%);
    }
    50% {
      opacity: 0.25;
      transform: scale(1.1) translate(-50%, -50%);
    }
  }

  /* Reveal Animations (Subtle & Deferred) */
  .hero-title {
    animation: reveal-text 1.2s cubic-bezier(0.19, 1, 0.22, 1) 0.5s both;
  }

  @keyframes reveal-text {
    from {
      clip-path: polygon(0 0, 0 0, 0 100%, 0% 100%);
      transform: translateX(-20px);
    }
    to {
      clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
      transform: translateX(0);
    }
  }

  @keyframes slide-up {
    from {
      transform: translateY(20px);
    }
    to {
      transform: translateY(0);
    }
  }

  .animate-slide-up {
    animation: slide-up 0.8s ease-out 0.8s both;
  }

  .animate-fade-in {
    animation: fade-in 1.2s ease-out 0.3s both;
  }

  @keyframes fade-in {
    from {
      filter: blur(10px);
      opacity: 0.5;
    }
    to {
      filter: blur(0);
      opacity: 1;
    }
  }

  /* Responsive Fixes */
  @media (max-width: 1024px) {
    .glass-card {
      max-width: 320px;
      margin: 0 auto;
    }
    .hero-title {
      font-size: clamp(2.5rem, 10vw, 4.5rem);
    }
  }
</style>
